{"version":3,"sources":["logo.png","products.js","role.js","store.js","components/ProductItem.js","components/ProductsList.js","components/AddProductForm.js","components/InfoBlock.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","initialData","JSON","parse","localStorage","getItem","deleteProduct","value","type","productsReducer","state","action","setItem","stringify","filter","product","id","roleReducer","initialState","role","products","reducer","combineReducers","store","createStore","getProducts","getRole","getProductsCount","length","getSumOfPrices","reduce","sum","parseInt","price","useStyles","makeStyles","root","maxWidth","maxHeight","paddingTop","ConnectedProductItem","connect","dispatch","title","image","description","classes","className","Card","CardActionArea","CardMedia","component","alt","height","CardContent","Typography","gutterBottom","variant","color","align","CardActions","Button","size","onClick","margin","addButton","alignSelf","infoBlock","backgroundColor","getData","getMethods","clearProducts","addProduct","ConnectedProductsList","map","key","ConnectedInfoBlock","getAveragePrice","toFixed","Paper","elevation","ConnectedAddProductForm","useState","setTitle","imageUrl","setImageUrl","setDescription","setPrice","imageName","setImageName","onSubmit","event","preventDefault","Date","TextField","name","onChange","target","trimLeft","label","multiline","required","accept","e","reader","FileReader","file","files","readAsDataURL","onloadend","result","handleImageChange","style","display","htmlFor","App","setRole","anchorEl","setAnchorEl","handleClose","src","logo","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","to","FormControl","InputLabel","Select","labelId","path","window","location","hostname","match","ConnectedApp","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2eb092db.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACXCAMAAAAvQTlLAAAAY1BMVEX///8AAAD29vbHx8fm5ubx8fH5+fmAgIBTU1Pp6emnp6dPT0/e3t78/PzZ2dmYmJhjY2O+vr6ysrIwMDBKSkoKCgokJCQeHh4pKSk7OztERETT09OMjIxsbGyenp5xcXEYGBgs3MZiAAACyUlEQVR4nO3ZbcNyMBgG4GYYqs1bSqT+/6981ovSjWw2ni/n8bnNiWsX1mYDAAAAAAAAAAAAAAAAAACgiO/XPqIT+tM/SpLlg3zhdRJOXwpaOitkeXF2SXwWKvenItHiaV72tA5InihdhopkCrfanMejLSFHtlP7eViSetlAd17KZChCGsVUGy8gJFw00t6lIrtnIkGqPupKyGXJ28iba/kIRWKqsbqEHKBxFlrkyrvenplIxlydoVQOKVRvuRa58uI2FDlEescIj3JQbj3Tc+W96ZTVw/5yH2Z5NYYpyzuhyIVql694DKTWIvlhJY6HbqiMzVjr/DnWVpfgUbvy3qkarWJ/8Z41cPPMIzkuvRaH71CyrOa9pNTP4cbPbJ+K+G8mQq5zX1Gq1wRnk1yem8bHXibdbtXlx+0cs++jl9Z5PxMhp2h2qs0mfU8zK5dXNfnAhZItVPEtZoTzmVS/3fOIlUOZ7mVl2HXEZyqhM84PKStvI6FktzL8TgiLz2xn9VBy5Y1lkgu7Me84dXdCpceXI1de1m8H77IKEgtvS8735Z/s+G4iX8t/YXYeZs33rNtfp+rtxPb0M9SpNugLX4f6e/LByMR7nrLfmWR5RtZew6ve5Fnaazq+J1deMRCk63CmFh6vLTZ42ryTyU2aeOBHf1kqq9bwWi/yi0iklMVlphCqsFVWrf5tnGHbWN87aKaPOuEQ6HxzqRoqL61UrLIfSjZVlYoeZ72sWr3upSOIFtuSMsi1SFmZ5rotU1ZvM+tLLFRWHzPW49xvLi1iOse3vLL4EBy30wp1Ut14NDf16tJRLF9WH+l0nqd4tY3qB287HYlobjxawadDHWs+PY91U3fyoLyfbRkd/w4kpelHs4nqPFZVyYorcEjS27UqAkZX/8Ovz6+628axoLtV2rqikFfcXbshAAAAAAAAAAAAAAAAAADAf/cPlEAc2xtrHT4AAAAASUVORK5CYII=\"","import data from './data';\n\nlet initialData = data;\n\nif (JSON.parse(localStorage.getItem('products'))) {\n  initialData = JSON.parse(localStorage.getItem('products'));\n}\n\nconst ADD_PRODUCT = 'addProduct';\nconst DELETE_PRODUCT = 'deleteProduct';\nconst CLEAR_PRODUCTS = 'clearProducts';\n\nexport const addProduct = value => ({\n  type: ADD_PRODUCT,\n  value,\n});\n\nexport const deleteProduct = value => ({\n  type: DELETE_PRODUCT,\n  value,\n});\n\nexport const clearProducts = () => ({\n  type: CLEAR_PRODUCTS,\n});\n\nconst productsReducer = (state = initialData, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      localStorage.setItem('products', JSON.stringify(state));\n      return [\n          ...state,\n          action.value,\n        ];\n    case DELETE_PRODUCT:\n      return state.filter(product => product.id !== action.value);\n    case CLEAR_PRODUCTS:\n      return [];\n    default:\n      return state;\n  }\n};\n\nexport default productsReducer;\n","import { initialState } from \"./store\";\n\nconst SET_ROLE = 'setRole';\n\nexport const setRole = value => ({\n  type: SET_ROLE,\n  value,\n});\n\nconst roleReducer = (state = initialState.role, action) => {\n  switch (action.type) {\n    case SET_ROLE:\n      return action.value;\n    default:\n      return state;\n  }\n};\n\nexport default roleReducer;\n","import { combineReducers, createStore } from 'redux';\nimport productsReducer from './products';\nimport roleReducer from './role';\n\nexport const initialState = {\n  products: [],\n  role: 'admin',\n};\n\nconst reducer = combineReducers({\n  products: productsReducer,\n  role: roleReducer,\n});\n\nconst store = createStore(reducer);\n\nexport const getProducts = state => state.products;\nexport const getRole = state => state.role;\nexport const getProductsCount = state => state.products\n  ? state.products.length\n  : 0;\nexport const getSumOfPrices = state => state.products \n  ? state.products.reduce((sum, product) => sum += parseInt(product.price), 0)\n  : 0;\n\nexport default store;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n    maxHeight: 500,\n  },\n  price: {\n    paddingTop: 15,\n  },\n});\n\nexport function ProductItem({ \n  id, \n  title, \n  image, \n  description, \n  price, \n  deleteProduct, \n  getRole }) {\n  const classes = useStyles();\n\n  return (\n    <li className=\"products__item\">\n      <Card className={classes.root}>\n        <CardActionArea>\n          <CardMedia\n            component=\"img\"\n            alt={title}\n            height=\"200\"\n            image={image}\n            title={title}\n          />\n          <CardContent>\n            <Typography \n              gutterBottom \n              variant=\"h5\" \n              component=\"h2\"\n            >\n              {title}\n            </Typography>\n            <Typography \n              variant=\"body2\" \n              color=\"textSecondary\" \n              component=\"p\"\n            >\n              {description}\n            </Typography>\n            <Typography \n              variant=\"h5\" \n              align=\"center\" \n              component=\"p\"\n              className={classes.price}\n            >\n              {price}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions>\n        {getRole !== 'user' && (<Button \n          variant=\"contained\" \n          color=\"secondary\"\n          type=\"button\"\n          className=\"destroy\"\n          size=\"small\"\n          onClick={() => deleteProduct(id)}\n        >\n          x\n        </Button>)}\n        </CardActions>\n      </Card>\n    </li>\n  );\n}\n","import React from 'react';\nimport { ProductItem } from './ProductItem';\nimport { deleteProduct } from '../products';\nimport { connect } from 'react-redux';\nimport {  getRole } from '../store';\n\nconst getData = state => ({\n  getRole: getRole(state),\n});\n\nconst getMethods = dispatch => ({\n  deleteProduct: (value) => dispatch(deleteProduct(value)),\n});\n\nconst ConnectedProductItem = connect(getData, getMethods)(ProductItem);\n\nexport function ProductsList({ products }) {\n\n  if (products.length === 0) {\n    return 'No products yet';\n  }\n\n  return (\n    <>\n      <h1>Catalog</h1>\n      <ul className=\"products__list\">\n        {products.map(product => \n          <ConnectedProductItem \n            key={product.id} \n            {...product} \n          />\n        )}\n      </ul>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    margin: 5,\n  },\n  addButton: {\n    alignSelf: \"flex-start\",\n  },\n});\n\nexport function AddProductForm({ addProduct, getRole }) {\n  const classes = useStyles();\n  const [title, setTitle] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [imageName, setImageName] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    addProduct({\n        id: + new Date(),\n        title,\n        imageUrl,\n        description,\n        price: price + '$',\n      },\n    );\n  }\n\n  const handleImageChange = (e) => {\n    e.preventDefault();\n    const reader = new FileReader();\n    const file = e.target.files[0];\n    reader.readAsDataURL(file);\n\n    reader.onloadend = () => {\n      setImageUrl(reader.result);\n    }\n\n    setImageName(e.target.files[0].name)\n  };\n\n  if (getRole === 'user') {\n    return 'Sorry, You need to be admin to have access!'\n  }\n\n  return (\n    <>\n      <h1>Add product form</h1>\n\n      <form onSubmit={handleSubmit} className=\"form\">\n        <div className=\"form__row\">\n          <TextField\n            name=\"title\"\n            onChange={(event) => setTitle(event.target.value)}\n            value={title.trimLeft()}\n            className={`${classes.root} form__item_title`}\n            id=\"outlined-required\"\n            label=\"title\"\n            variant=\"outlined\"\n            multiline\n            required\n          />\n          <TextField\n            type=\"number\"\n            name=\"price\"\n            onChange={(event) => setPrice(event.target.value)}\n            value={price.trimLeft()}\n            className={`${classes.root} form__item_price`}\n            id=\"outlined-required\"\n            label=\"price, $\"\n            variant=\"outlined\"\n            required\n          />\n        </div>\n        <TextField\n          name=\"description\"\n          onChange={(event) => setDescription(event.target.value)}\n          value={description.trimLeft()}\n          className={classes.root}\n          id=\"outlined-required\"\n          label=\"description\"\n          variant=\"outlined\"\n          multiline\n          required\n        />\n        <div className=\"form__row\">\n          <input\n            accept=\"image/*\"\n            onChange={(event) => handleImageChange(event)}\n            style={{display: 'none'}}\n            id=\"contained-button-file\"\n            type=\"file\"\n            required\n          />\n          <label htmlFor=\"contained-button-file\">\n            <Button \n              variant=\"contained\" \n              color=\"primary\" \n              className={classes.root}\n              component=\"span\"\n            >\n              Upload\n            </Button>\n            {imageName ? imageName : 'Choose an image...'}\n          </label>\n        </div>\n        <div className=\"form__row\">\n          <Button \n            variant=\"outlined\" \n            color=\"primary\"\n            className={classes.root}\n            type=\"submit\"\n          >\n            Add product\n          </Button>\n        </div>\n      </form>\n    </>\n  );\n}\n","import React  from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles({\n  infoBlock: {\n    backgroundColor: \"black\",\n    color: \"white\",\n  },\n});\n\nexport const InfoBlock = ({ \n  products,\n  clearProducts,\n  getSumOfPrices,\n  getProductsCount,\n  getRole }) => {\n  const classes = useStyles();\n  const getAveragePrice = products && products.length !== 0\n  ? (getSumOfPrices / getProductsCount).toFixed(2)\n  : 0;\n\n  return (\n    <Paper \n      elevation={2} \n      className={`info-block main__info-block ${classes.infoBlock}`}\n    >\n      <p>\n        {getProductsCount === 0 ? 'No' : getProductsCount}\n        {` products in catalog`}\n      </p>\n      <p>\n        {`Sum of prices - `}\n        {getSumOfPrices}\n        $\n      </p>\n      <p>\n        {`Average price - `}\n        {getAveragePrice}\n        $\n      </p>\n      {getRole !== 'user' && (<Button \n        variant=\"contained\" \n        color=\"secondary\"\n        type=\"button\"\n        className=\"destroy\"\n        onClick={clearProducts}\n      >\n        clear catalog\n      </Button>)}\n    </Paper>\n  );\n}\n","import React,\n  { useState,\n    useEffect, \n    useMemo, \n    useCallback } from 'react';\nimport { Link, Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { clearProducts, \n  addProduct, \n  deleteProduct } from './products';\n  import { getProducts,\n    getRole,\n    getSumOfPrices, \n    getProductsCount } from './store';\nimport { ProductsList } from './components/ProductsList';\nimport { AddProductForm } from './components/AddProductForm';\nimport { InfoBlock } from './components/InfoBlock';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport './App.scss';\nimport logo from './logo.png';\n\nconst getData = state => ({\n  products: getProducts(state),\n  getRole: getRole(state),\n  getSumOfPrices: getSumOfPrices(state),\n  getProductsCount: getProductsCount(state),\n});\n\nconst getMethods = dispatch => ({\n  clearProducts: () => dispatch(clearProducts()),\n  addProduct: (value) => dispatch(addProduct(value)),\n  deleteProduct: (value) => dispatch(deleteProduct(value)),\n});\n\nconst ConnectedProductsList = connect(getData, getMethods)(ProductsList);\nconst ConnectedInfoBlock = connect(getData, getMethods)(InfoBlock);\nconst ConnectedAddProductForm = connect(getData, getMethods)(AddProductForm);\n\n\nfunction App({ getRole, setRole }) {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"header__container\">\n          <img \n            src={logo} \n            alt=\"logo\" \n            className=\"header__logo\"\n          />\n\n          <Button \n            aria-controls=\"simple-menu\" \n            aria-haspopup=\"true\" \n            onClick={handleClick}\n          >\n            Menu\n          </Button>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <MenuItem onClick={handleClose}>\n              <Link to=\"/\" className=\"header__link\">\n                Home\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={handleClose}>\n              <Link to=\"/catalog\" className=\"header__link\">\n                Catalog\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={handleClose}>\n              <Link to=\"/addform\" className=\"header__link\">\n                Add form\n              </Link>\n            </MenuItem>\n          </Menu>\n        </div>\n      </header>\n\n      <main className=\"main\">\n        <ConnectedInfoBlock />\n        <FormControl variant=\"outlined\" >\n        <InputLabel id=\"demo-simple-select-outlined-label\">Role</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          value={getRole}\n          onChange={event => setRole(event.target.value)}\n          label=\"role\"\n        >\n          <MenuItem value={'user'}>User</MenuItem>\n          <MenuItem value={'admin'}>Admin</MenuItem>\n        </Select>\n      </FormControl>\n        <Switch>\n          <Route path=\"/catalog\"  component={ConnectedProductsList} />\n          <Route path=\"/addform\" component={ConnectedAddProductForm} />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store, { getRole } from './store';\nimport { setRole } from './role';\n\nconst getData = state => ({\n  getRole: getRole(state),\n});\n\nconst getMethods = dispatch => ({\n  setRole: (value) => dispatch(setRole(value)),\n});\n\nconst ConnectedApp = connect(getData, getMethods)(App);\n\nReactDOM.render(\n  <Provider store={store}>\n      <Router>\n        <Route path=\"/\" component={ConnectedApp} />\n      </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}