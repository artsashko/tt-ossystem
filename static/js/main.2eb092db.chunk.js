(this["webpackJsonptt-ossystem"]=this["webpackJsonptt-ossystem"]||[]).push([[0],{60:function(e){e.exports=JSON.parse('[{"id":1,"title":"Nike Air Force 1 \'07","image":"https://c.static-nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/gsuin11ptg5qgktmzoat/air-force-1-07-shoe-KyTDGepj.jpg","description":"Hoops in the park, Sunday BBQs and sunshine. The radiance lives on in the Nike Air Force 1 \'07, the b-ball OG that puts a fresh spin on the features you know best: crisp leather.","price":"200$"},{"id":2,"title":"Nike React Infinity Run Flyknit","image":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/0aaf3ec6-4f6a-405d-89cb-4e54cbbdc384/react-infinity-run-flyknit-running-shoe-4jHr6L.jpg","description":"The Nike React Infinity Run Flyknit is designed to help reduce injury and keep you on the run. More foam and improved upper details provide a secure and cushioned feel.","price":"180$"},{"id":3,"title":"Nike Air Zoom Pegasus 37","image":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/44297225-bf4c-4dbb-8e8b-a7377b22d05b/air-zoom-pegasus-37-running-shoe-Z7QV8F.jpg","description":"Reinvigorate your stride with the Nike Air Zoom Pegasus 37. Delivering the same fit and feel that runners love.","price":"220$"},{"id":4,"title":"KD13 \'The Easy Money Snipers\'","image":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/bf5e20e1-4c3e-4a57-9368-311f68587229/kd13-easy-money-snipers-basketball-shoe-pMqrff.jpg","description":"When KD gets into a groove on the court, he makes it look easy. The KD13 \'The Easy Money Snipers\' pays homage to the laid-back vibes of \'60s rock music. ","price":"150$"}]')},61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACXCAMAAAAvQTlLAAAAY1BMVEX///8AAAD29vbHx8fm5ubx8fH5+fmAgIBTU1Pp6emnp6dPT0/e3t78/PzZ2dmYmJhjY2O+vr6ysrIwMDBKSkoKCgokJCQeHh4pKSk7OztERETT09OMjIxsbGyenp5xcXEYGBgs3MZiAAACyUlEQVR4nO3ZbcNyMBgG4GYYqs1bSqT+/6981ovSjWw2ni/n8bnNiWsX1mYDAAAAAAAAAAAAAAAAAACgiO/XPqIT+tM/SpLlg3zhdRJOXwpaOitkeXF2SXwWKvenItHiaV72tA5InihdhopkCrfanMejLSFHtlP7eViSetlAd17KZChCGsVUGy8gJFw00t6lIrtnIkGqPupKyGXJ28iba/kIRWKqsbqEHKBxFlrkyrvenplIxlydoVQOKVRvuRa58uI2FDlEescIj3JQbj3Tc+W96ZTVw/5yH2Z5NYYpyzuhyIVql694DKTWIvlhJY6HbqiMzVjr/DnWVpfgUbvy3qkarWJ/8Z41cPPMIzkuvRaH71CyrOa9pNTP4cbPbJ+K+G8mQq5zX1Gq1wRnk1yem8bHXibdbtXlx+0cs++jl9Z5PxMhp2h2qs0mfU8zK5dXNfnAhZItVPEtZoTzmVS/3fOIlUOZ7mVl2HXEZyqhM84PKStvI6FktzL8TgiLz2xn9VBy5Y1lkgu7Me84dXdCpceXI1de1m8H77IKEgtvS8735Z/s+G4iX8t/YXYeZs33rNtfp+rtxPb0M9SpNugLX4f6e/LByMR7nrLfmWR5RtZew6ve5Fnaazq+J1deMRCk63CmFh6vLTZ42ryTyU2aeOBHf1kqq9bwWi/yi0iklMVlphCqsFVWrf5tnGHbWN87aKaPOuEQ6HxzqRoqL61UrLIfSjZVlYoeZ72sWr3upSOIFtuSMsi1SFmZ5rotU1ZvM+tLLFRWHzPW49xvLi1iOse3vLL4EBy30wp1Ut14NDf16tJRLF9WH+l0nqd4tY3qB287HYlobjxawadDHWs+PY91U3fyoLyfbRkd/w4kpelHs4nqPFZVyYorcEjS27UqAkZX/8Ovz6+628axoLtV2rqikFfcXbshAAAAAAAAAAAAAAAAAADAf/cPlEAc2xtrHT4AAAAASUVORK5CYII="},74:function(e,t,a){e.exports=a(86)},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=a(38),l=a(11),u=a(22),s=(a(83),a(25)),m=a(63),d=a(60);JSON.parse(localStorage.getItem("products"))&&(d=JSON.parse(localStorage.getItem("products")));var p=function(e){return{type:"deleteProduct",value:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addProduct":return localStorage.setItem("products",JSON.stringify(e)),[].concat(Object(m.a)(e),[t.value]);case"deleteProduct":return e.filter((function(e){return e.id!==t.value}));case"clearProducts":return[];default:return e}},g=a(39),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.role,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setRole":return t.value;default:return e}},h={products:[],role:"admin"},v=Object(g.b)({products:f,role:b}),A=Object(g.c)(v),E=function(e){return e.products},y=function(e){return e.role},k=function(e){return e.products?e.products.length:0},O=function(e){return e.products?e.products.reduce((function(e,t){return e+parseInt(t.price)}),0):0},_=A,N=a(121),P=a(124),j=a(126),S=a(130),R=a(128),q=a(127),C=a(131),I=a(129),w=Object(N.a)({root:{maxWidth:345,maxHeight:500},price:{paddingTop:15}});var F=Object(u.b)((function(e){return{getRole:y(e)}}),(function(e){return{deleteProduct:function(t){return e(p(t))}}}))((function(e){var t=e.id,a=e.title,n=e.image,o=e.description,c=e.price,i=e.deleteProduct,l=e.getRole,u=w();return r.a.createElement("li",{className:"products__item"},r.a.createElement(P.a,{className:u.root},r.a.createElement(j.a,null,r.a.createElement(q.a,{component:"img",alt:a,height:"200",image:n,title:a}),r.a.createElement(R.a,null,r.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},o),r.a.createElement(I.a,{variant:"h5",align:"center",component:"p",className:u.price},c))),r.a.createElement(S.a,null,"user"!==l&&r.a.createElement(C.a,{variant:"contained",color:"secondary",type:"button",className:"destroy",size:"small",onClick:function(){return i(t)}},"x"))))}));var H=a(138),M=Object(N.a)({root:{margin:5},addButton:{alignSelf:"flex-start"}});var Z=a(87),x=Object(N.a)({infoBlock:{backgroundColor:"black",color:"white"}}),L=a(62),T=a(137),V=a(136),D=a(134),B=a(135),K=(a(84),a(61)),W=a.n(K),X=function(e){return{products:E(e),getRole:y(e),getSumOfPrices:O(e),getProductsCount:k(e)}},Y=function(e){return{clearProducts:function(){return e({type:"clearProducts"})},addProduct:function(t){return e(function(e){return{type:"addProduct",value:e}}(t))},deleteProduct:function(t){return e(p(t))}}},U=Object(u.b)(X,Y)((function(e){var t=e.products;return 0===t.length?"No products yet":r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Catalog"),r.a.createElement("ul",{className:"products__list"},t.map((function(e){return r.a.createElement(F,Object.assign({key:e.id},e))}))))})),z=Object(u.b)(X,Y)((function(e){var t=e.products,a=e.clearProducts,n=e.getSumOfPrices,o=e.getProductsCount,c=e.getRole,i=x(),l=t&&0!==t.length?(n/o).toFixed(2):0;return r.a.createElement(Z.a,{elevation:2,className:"info-block main__info-block ".concat(i.infoBlock)},r.a.createElement("p",null,0===o?"No":o," products in catalog"),r.a.createElement("p",null,"Sum of prices - ",n,"$"),r.a.createElement("p",null,"Average price - ",l,"$"),"user"!==c&&r.a.createElement(C.a,{variant:"contained",color:"secondary",type:"button",className:"destroy",onClick:a},"clear catalog"))})),J=Object(u.b)(X,Y)((function(e){var t=e.addProduct,a=e.getRole,o=M(),c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(""),b=Object(s.a)(g,2),h=b[0],v=b[1],A=Object(n.useState)(""),E=Object(s.a)(A,2),y=E[0],k=E[1],O=Object(n.useState)(""),_=Object(s.a)(O,2),N=_[0],P=_[1];return"user"===a?"Sorry, You need to be admin to have access!":r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Add product form"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({id:+new Date,title:l,imageUrl:p,description:h,price:y+"$"})},className:"form"},r.a.createElement("div",{className:"form__row"},r.a.createElement(H.a,{name:"title",onChange:function(e){return u(e.target.value)},value:l.trimLeft(),className:"".concat(o.root," form__item_title"),id:"outlined-required",label:"title",variant:"outlined",multiline:!0,required:!0}),r.a.createElement(H.a,{type:"number",name:"price",onChange:function(e){return k(e.target.value)},value:y.trimLeft(),className:"".concat(o.root," form__item_price"),id:"outlined-required",label:"price, $",variant:"outlined",required:!0})),r.a.createElement(H.a,{name:"description",onChange:function(e){return v(e.target.value)},value:h.trimLeft(),className:o.root,id:"outlined-required",label:"description",variant:"outlined",multiline:!0,required:!0}),r.a.createElement("div",{className:"form__row"},r.a.createElement("input",{accept:"image/*",onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onloadend=function(){f(t.result)},P(e.target.files[0].name)}(e)},style:{display:"none"},id:"contained-button-file",type:"file",required:!0}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(C.a,{variant:"contained",color:"primary",className:o.root,component:"span"},"Upload"),N||"Choose an image...")),r.a.createElement("div",{className:"form__row"},r.a.createElement(C.a,{variant:"outlined",color:"primary",className:o.root,type:"submit"},"Add product"))))}));var G=function(e){var t=e.getRole,a=e.setRole,o=Object(n.useState)(null),c=Object(s.a)(o,2),u=c[0],m=c[1],d=function(){m(null)};return r.a.createElement("div",{className:"page"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("img",{src:W.a,alt:"logo",className:"header__logo"}),r.a.createElement(C.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},"Menu"),r.a.createElement(L.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:d},r.a.createElement(T.a,{onClick:d},r.a.createElement(i.b,{to:"/",className:"header__link"},"Home")),r.a.createElement(T.a,{onClick:d},r.a.createElement(i.b,{to:"/catalog",className:"header__link"},"Catalog")),r.a.createElement(T.a,{onClick:d},r.a.createElement(i.b,{to:"/addform",className:"header__link"},"Add form"))))),r.a.createElement("main",{className:"main"},r.a.createElement(z,null),r.a.createElement(D.a,{variant:"outlined"},r.a.createElement(V.a,{id:"demo-simple-select-outlined-label"},"Role"),r.a.createElement(B.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t,onChange:function(e){return a(e.target.value)},label:"role"},r.a.createElement(T.a,{value:"user"},"User"),r.a.createElement(T.a,{value:"admin"},"Admin"))),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/catalog",component:U}),r.a.createElement(l.a,{path:"/addform",component:J}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=Object(u.b)((function(e){return{getRole:y(e)}}),(function(e){return{setRole:function(t){return e(function(e){return{type:"setRole",value:e}}(t))}}}))(G);c.a.render(r.a.createElement(u.a,{store:_},r.a.createElement(i.a,null,r.a.createElement(l.a,{path:"/",component:Q}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.2eb092db.chunk.js.map