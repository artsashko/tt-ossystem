(this["webpackJsonptt-ossystem"]=this["webpackJsonptt-ossystem"]||[]).push([[0],{60:function(e){e.exports=JSON.parse('[{"id":1,"title":"Nike Air Force 1 \'07","imageUrl":"https://c.static-nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/gsuin11ptg5qgktmzoat/air-force-1-07-shoe-KyTDGepj.jpg","description":"Hoops in the park, Sunday BBQs and sunshine. The radiance lives on in the Nike Air Force 1 \'07, the b-ball OG that puts a fresh spin on the features you know best: crisp leather.","price":"200$"},{"id":2,"title":"Nike React Infinity Run Flyknit","imageUrl":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/0aaf3ec6-4f6a-405d-89cb-4e54cbbdc384/react-infinity-run-flyknit-running-shoe-4jHr6L.jpg","description":"The Nike React Infinity Run Flyknit is designed to help reduce injury and keep you on the run. More foam and improved upper details provide a secure and cushioned feel.","price":"180$"},{"id":3,"title":"Nike Air Zoom Pegasus 37","imageUrl":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/44297225-bf4c-4dbb-8e8b-a7377b22d05b/air-zoom-pegasus-37-running-shoe-Z7QV8F.jpg","description":"Reinvigorate your stride with the Nike Air Zoom Pegasus 37. Delivering the same fit and feel that runners love.","price":"220$"},{"id":4,"title":"KD13 \'The Easy Money Snipers\'","imageUrl":"https://static.nike.com/a/images/t_PDP_864_v1/f_auto,b_rgb:f5f5f5/bf5e20e1-4c3e-4a57-9368-311f68587229/kd13-easy-money-snipers-basketball-shoe-pMqrff.jpg","description":"When KD gets into a groove on the court, he makes it look easy. The KD13 \'The Easy Money Snipers\' pays homage to the laid-back vibes of \'60s rock music. ","price":"150$"}]')},61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACXCAMAAAAvQTlLAAAAY1BMVEX///8AAAD29vbHx8fm5ubx8fH5+fmAgIBTU1Pp6emnp6dPT0/e3t78/PzZ2dmYmJhjY2O+vr6ysrIwMDBKSkoKCgokJCQeHh4pKSk7OztERETT09OMjIxsbGyenp5xcXEYGBgs3MZiAAACyUlEQVR4nO3ZbcNyMBgG4GYYqs1bSqT+/6981ovSjWw2ni/n8bnNiWsX1mYDAAAAAAAAAAAAAAAAAACgiO/XPqIT+tM/SpLlg3zhdRJOXwpaOitkeXF2SXwWKvenItHiaV72tA5InihdhopkCrfanMejLSFHtlP7eViSetlAd17KZChCGsVUGy8gJFw00t6lIrtnIkGqPupKyGXJ28iba/kIRWKqsbqEHKBxFlrkyrvenplIxlydoVQOKVRvuRa58uI2FDlEescIj3JQbj3Tc+W96ZTVw/5yH2Z5NYYpyzuhyIVql694DKTWIvlhJY6HbqiMzVjr/DnWVpfgUbvy3qkarWJ/8Z41cPPMIzkuvRaH71CyrOa9pNTP4cbPbJ+K+G8mQq5zX1Gq1wRnk1yem8bHXibdbtXlx+0cs++jl9Z5PxMhp2h2qs0mfU8zK5dXNfnAhZItVPEtZoTzmVS/3fOIlUOZ7mVl2HXEZyqhM84PKStvI6FktzL8TgiLz2xn9VBy5Y1lkgu7Me84dXdCpceXI1de1m8H77IKEgtvS8735Z/s+G4iX8t/YXYeZs33rNtfp+rtxPb0M9SpNugLX4f6e/LByMR7nrLfmWR5RtZew6ve5Fnaazq+J1deMRCk63CmFh6vLTZ42ryTyU2aeOBHf1kqq9bwWi/yi0iklMVlphCqsFVWrf5tnGHbWN87aKaPOuEQ6HxzqRoqL61UrLIfSjZVlYoeZ72sWr3upSOIFtuSMsi1SFmZ5rotU1ZvM+tLLFRWHzPW49xvLi1iOse3vLL4EBy30wp1Ut14NDf16tJRLF9WH+l0nqd4tY3qB287HYlobjxawadDHWs+PY91U3fyoLyfbRkd/w4kpelHs4nqPFZVyYorcEjS27UqAkZX/8Ovz6+628axoLtV2rqikFfcXbshAAAAAAAAAAAAAAAAAADAf/cPlEAc2xtrHT4AAAAASUVORK5CYII="},74:function(e,t,a){e.exports=a(86)},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),l=a(38),i=a(11),s=a(22),u=(a(83),a(25)),m=a(63),d=a(60),p=null;p=JSON.parse(localStorage.getItem("products"))?JSON.parse(localStorage.getItem("products")):d;var f=function(e){return{type:"deleteProduct",value:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addProduct":return[].concat(Object(m.a)(e),[t.value]);case"deleteProduct":return e.filter((function(e){return e.id!==t.value}));case"clearProducts":return[];default:return e}},b=a(39),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.role,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setRole":return t.value;default:return e}},v={products:[],role:"admin"},A=Object(b.b)({products:g,role:h}),E=Object(b.c)(A),y=function(e){return e.products},k=function(e){return e.role},_=function(e){return e.products?e.products.length:0},O=function(e){return e.products?e.products.reduce((function(e,t){return e+parseInt(t.price)}),0):0},N=E,P=a(121),j=a(124),S=a(126),R=a(130),C=a(128),I=a(127),q=a(129),w=Object(P.a)({root:{maxWidth:345,minWidth:245,height:450},price:{paddingTop:15}});var M=Object(s.b)((function(e){return{getRole:k(e)}}),(function(e){return{deleteProduct:function(t){return e(f(t))}}}))((function(e){var t=e.id,a=e.title,n=e.imageUrl,o=e.description,c=e.price,l=e.deleteProduct,i=e.getRole,s=w();return r.a.createElement("li",{className:"products__item"},"user"!==i&&r.a.createElement("button",{type:"button",className:"products__button-destroy",onClick:function(){return l(t)}},"x"),r.a.createElement(j.a,{className:s.root},r.a.createElement(S.a,null,r.a.createElement(I.a,{component:"img",alt:a,height:"200",image:n,title:a}),r.a.createElement(C.a,null,r.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(q.a,{variant:"body2",color:"textSecondary",component:"p"},o),r.a.createElement(q.a,{variant:"h5",align:"center",component:"p",className:s.price},c))),r.a.createElement(R.a,null)))}));var x=a(138),F=a(134),Z=Object(P.a)({root:{margin:5},addButton:{alignSelf:"flex-start"}});var L=a(87),T=Object(P.a)({infoBlock:{backgroundColor:"#f6f6f6",color:"#6d6464"}}),U=a(62),H=a(137),V=a(136),D=a(133),W=a(135),B=(a(84),a(61)),K=a.n(B),X=function(e){return{products:y(e),getRole:k(e),getSumOfPrices:O(e),getProductsCount:_(e)}},Y=function(e){return{clearProducts:function(){return e({type:"clearProducts"})},addProduct:function(t){return e(function(e){return{type:"addProduct",value:e}}(t))},deleteProduct:function(t){return e(f(t))}}},J=Object(s.b)(X,Y)((function(e){var t=e.products;return 0===t.length?r.a.createElement("p",null,"No products yet..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Catalog"),r.a.createElement("ul",{className:"products__list"},t.map((function(e){return r.a.createElement(M,Object.assign({key:e.id},e))}))))})),z=Object(s.b)(X,Y)((function(e){var t=e.products,a=e.clearProducts,o=e.getSumOfPrices,c=e.getProductsCount,l=e.getRole,i=T(),s=Object(n.useMemo)((function(){return t&&0!==t.length?(o/c).toFixed(2):0}),[o,c,t]);return r.a.createElement(L.a,{elevation:1,className:"info-block main__info-block ".concat(i.infoBlock)},r.a.createElement("p",{className:"info-block__item"},0===c?"No":c," products in catalog"),r.a.createElement("p",{className:"info-block__item"},"Sum of prices - ",o,"$"),r.a.createElement("p",{className:"info-block__item info-block__item_last"},"Average price - ",s,"$"),"user"!==l&&r.a.createElement(F.a,{variant:"contained",color:"secondary",type:"button",onClick:a},"clear catalog"))})),G=Object(s.b)(X,Y)((function(e){var t=e.products,a=e.addProduct,o=e.getRole,c=Z(),l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),v=h[0],A=h[1],E=Object(n.useState)(""),y=Object(u.a)(E,2),k=y[0],_=y[1],O=Object(n.useState)(""),N=Object(u.a)(O,2),P=N[0],j=N[1];return Object(n.useEffect)((function(){localStorage.setItem("products",JSON.stringify(t))}),[t]),"user"===o?r.a.createElement("p",null,"Sorry, You need to be admin to have access!"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Add product form"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({id:+new Date,title:s,imageUrl:f,description:v,price:k+"$"})},className:"form"},r.a.createElement("div",{className:"form__row"},r.a.createElement(x.a,{name:"title",onChange:function(e){return m(e.target.value)},value:s.trimLeft(),className:"".concat(c.root," form__item_title"),id:"outlined-required",label:"title",variant:"outlined",multiline:!0,required:!0}),r.a.createElement(x.a,{type:"number",name:"price",onChange:function(e){return _(e.target.value)},value:k.trimLeft(),className:"".concat(c.root," form__item_price"),label:"price, $",variant:"outlined",required:!0})),r.a.createElement(x.a,{name:"description",onChange:function(e){return A(e.target.value)},value:v.trimLeft(),className:c.root,label:"description",variant:"outlined",multiline:!0,required:!0}),r.a.createElement("div",{className:"form__row"},r.a.createElement("input",{accept:"image/*",onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onloadend=function(){g(t.result)},j(e.target.files[0].name)}(e)},style:{display:"none"},id:"contained-button-file",type:"file",required:!0}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(F.a,{variant:"contained",color:"primary",className:c.root,component:"span"},"Upload"),P||"Choose an image...*")),r.a.createElement("div",{className:"form__row"},r.a.createElement(F.a,{variant:"outlined",color:"primary",className:c.root,type:"submit"},"Add product"))))}));var Q=function(e){var t=e.getRole,a=e.setRole,o=Object(n.useState)(null),c=Object(u.a)(o,2),s=c[0],m=c[1],d=function(){m(null)};return r.a.createElement("div",{className:"page"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement(l.b,{to:"/tt-ossystem/",className:"header__link"},r.a.createElement("img",{src:K.a,alt:"logo",className:"header__logo"})),r.a.createElement(F.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},"Menu"),r.a.createElement(U.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:d},r.a.createElement(H.a,{onClick:d},r.a.createElement(l.b,{to:"/tt-ossystem/catalog",className:"header__link"},"Catalog")),r.a.createElement(H.a,{onClick:d},r.a.createElement(l.b,{to:"/tt-ossystem/addform",className:"header__link"},"Add form"))))),r.a.createElement("main",{className:"main"},r.a.createElement(z,null),r.a.createElement(D.a,{variant:"outlined"},r.a.createElement(V.a,{id:"demo-simple-select-outlined-label"},"Role"),r.a.createElement(W.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t,onChange:function(e){return a(e.target.value)},label:"role"},r.a.createElement(H.a,{value:"user"},"User"),r.a.createElement(H.a,{value:"admin"},"Admin"))),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/tt-ossystem/catalog",exact:!0,component:J}),r.a.createElement(i.a,{path:"/tt-ossystem/addform",exact:!0,component:G}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=Object(s.b)((function(e){return{getRole:k(e)}}),(function(e){return{setRole:function(t){return e(function(e){return{type:"setRole",value:e}}(t))}}}))(Q);c.a.render(r.a.createElement(s.a,{store:N},r.a.createElement(l.a,null,r.a.createElement(i.a,{path:"/",component:$}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.ddfd0bf7.chunk.js.map